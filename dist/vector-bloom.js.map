{"mappings":"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","sources":["src/vector-bloom.js","src/vector-bloom-point.js","src/vector-bloom-path.js"],"sourcesContent":["import { VectorBloomPoint } from \"./vector-bloom-point.js\"\nimport { VectorBloomPath, VectorBloomNode } from \"./vector-bloom-path.js\"\n\n/**\n * @typedef BloomConfig\n * @property {PetalConfig[]} petals\n * @property {CenterConfig} [center]\n */\n\n/**\n * @typedef CenterConfig\n * @property {number} radius The radius of the flower center\n * @property {CenterArrangment[]} arrangement\n */\n\n/** \n * @typedef PetalConfig\n * \t@property {PetalGeometry} geometry\n * \t@property {FillStyle} [fill]\n */\n\n/** \n * @typedef FillStyle\n * @property {GradientStop[]} color hex string\n * @property {number} strokeWidth?\n * @property {string} strokeColor? hex string\n * @property {ShadowConfig} [shadow]\n */\n\n/** \n * @typedef ShadowConfig\n * @property {number} [offsetX] \n * @property {number} [offsetY]\n * @property {number} blur\n * @property {string} [color] hex string\n * @property {number} [opacity]\n */\n\n/** \n * @typedef GradientStop\n * @property {string} color\n * @property {number} [offset]\n */\n\n/** \n * @typedef PetalGeometry\n * @property {number} width The width of the petal at the center\n * @property {number} count The number of petals\n * @property {number} length \n * @property {number} [innerWidth] The width of the petal at the radial origin\n * @property {number} [outerWidth] The width of the petal at the outer edge\n * @property {number} [angleOffset] Rotate the petal arrangement. In degrees\n * @property {number} [radialOffset] The radial offset from the center component. This is considered\n * as factor of center radius. Sensible values are -1 to 1\n * @property {number} [balance] The point where the center balance of the petal is considered. Sensible\n * values are in the range [0, 1]. This affects how the width value is treated\n * @property {number} [smoothing] The pointness of the petal. Sensible values are from 0 - very pointy to\n * 1 - overlysmooth (this results in pointiness too)\n * @property {boolean} [extendOutside] Extend the outer edge of the metal to form a smooth curve\n * @property {number} [offsetX]\n * @property {number} [offsetY]\n */\n\n/** \n * @typedef CenterArrangment\n * @property {CenterGeometry} geometry\n * @property {CenterFill}\t[fill] \n */\n\n\n/** \n * @typedef CenterFill \n * @property {FillStyle} base\n * @property {FillStyle} tip Based on age, tips don't always exist\n * @property {string} [background] a hex color value\n */\n\n/** \n * @typedef CenterGeometry\n * @property {Array<number>} age 0 forms a sleeping floret. Array length is 2\n * 0.5 makes a vertical floret\n * 1 makes a floret radiating outward\n * This is an array of two integers between 0 1, \n * Age is linearly mapped along the radius\n * @property {Array<number>} [range] Range is the percentage range of center to occupy. Array length is 2\n * ex: [0,1] occupies the full center\n * [0.75, 1] occupies outer 25 percent of the center radius\n * @property {number} density How closely the center elements are packed. Lower value results in\n * higher density.\n * @property {Array<number>} size Linearly mapped along radius. Array length is 2\n */\n\nconst GOLDEN_RATIO = (1 + Math.sqrt(5)) / 2\nconst GOLDEN_RADIANS = 2 * (Math.PI - (GOLDEN_RATIO * Math.PI / (1 + GOLDEN_RATIO)))\n\nexport class VectorBloom {\n\t/**\n\t * @param {BloomConfig} config \n\t */\n\tconstructor(config) {\n\t\t/**\n\t\t * Assign a unique id to this flower so that the elements created have unique\n\t\t * id names and classes.\n\t\t */\n\t\tthis.id = (Math.random() + \"\").replace(\".\", \"\")\n\n\t\tVectorBloom.FillDefaults(config)\n\n\t\tthis.petals = /** @type {VectorBloomPath[][]} */ ([])\n\t\tthis.center = /** @type {CenterArrangement[]} */ ([])\n\t\tthis.backgrounds = /** @type {SVGCircleElement[]} */ ([])\n\t\tthis.config = config\n\t\tthis.svgElement = createSVGElement()\n\t\tthis.maxWidth = 100\n\n\t\tlet zoomLevel = 1\n\t\tconst _this = this\n\t\tthis.svgElement.addEventListener(\"wheel\", function( /** @type {WheelEvent} */ event) {\n\t\t\tevent.preventDefault()\n\t\t\tzoomLevel += event.deltaY * 0.001\n\t\t\tzoomLevel = Math.max(0.1, Math.min(zoomLevel, 5))\n\t\t\tconst zoomedWidth = _this.maxWidth * zoomLevel\n\t\t\tconst difference = (_this.maxWidth - zoomedWidth) / 2\n\t\t\t_this.svgElement.setAttribute(\"viewBox\", `${difference} ${difference} ${zoomedWidth} ${zoomedWidth}`)\n\t\t})\n\n\t\tthis.update()\n\t\tthis.updateDrawingSize()\n\t}\n\n\t/**\n\t * Currently update and create are the same function\n\t * Use this to update only geometry\n\t */\n\tupdateGeometry() {\n\t\tthis.petals.length = 0\n\t\tthis.center.length = 0\n\t\tthis.backgrounds.length = 0\n\t\tthis.config.petals.forEach((petalConfig) =>\n\t\t\tthis.petals.unshift(createPetals(petalConfig, this.config.center.radius)))\n\t\tthis.config.center.arrangement.forEach(arrangement => {\n\t\t\tthis.center.unshift(createCenter(arrangement.geometry, this.config.center.radius))\n\t\t\tif (arrangement.fill.background) {\n\t\t\t\tthis.backgrounds.push(createCircleElement({\n\t\t\t\t\tradius: this.config.center.radius * Math.max.apply(null, arrangement.geometry.range),\n\t\t\t\t\tcolor: arrangement.fill.background\n\t\t\t\t}))\n\t\t\t}\n\t\t})\n\t\tthis.backgrounds.sort((c1, c2) => {\n\t\t\tconst r1 = parseFloat(c1.getAttribute(\"r\"))\n\t\t\tconst r2 = parseFloat(c2.getAttribute(\"r\"))\n\t\t\treturn r2 - r1\n\t\t})\n\t\tconst elementsInsertionTarget = this.svgElement.querySelector(\"g\")\n\t\telementsInsertionTarget.innerHTML = \"\"\n\n\t\tthis.backgrounds.forEach(c => elementsInsertionTarget.appendChild(c))\n\t\tthis.petals.forEach((petalArray, i) => {\n\t\t\tconst g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")\n\t\t\telementsInsertionTarget.appendChild(g)\n\t\t\tg.setAttribute(\"fill\", `url(#petal${this.id}-Gradient-${i})`)\n\t\t\tg.id = `petalGroup${this.id}-${i}`\n\t\t\tg.classList.add(`petalStyles${this.id}-${i}`)\n\t\t\tpetalArray.forEach(petal => g.appendChild(petal.element))\n\t\t})\n\t\tthis.center.forEach((arrangement, i) => {\n\t\t\tconst baseG = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")\n\t\t\tbaseG.setAttribute(\"fill\", `url(#centerBase${this.id}-Gradient-${i})`)\n\t\t\tbaseG.id = `centerBaseGroup${this.id}-${i}`\n\t\t\tarrangement.bases.forEach(base => {\n\t\t\t\tbaseG.appendChild(base.element)\n\t\t\t})\n\t\t\tbaseG.classList.add(`centerBaseStyles${this.id}-${i}`)\n\t\t\telementsInsertionTarget.appendChild(baseG)\n\n\t\t\tconst tipG = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")\n\t\t\ttipG.setAttribute(\"fill\", `url(#centerTip${this.id}-Gradient-${i})`)\n\t\t\ttipG.id = `centerTipGroup${this.id}-${i}`\n\t\t\tarrangement.tips.forEach(tip => {\n\t\t\t\ttipG.appendChild(tip.element)\n\t\t\t})\n\t\t\ttipG.classList.add(`centerTipStyles${this.id}-${i}`)\n\t\t\telementsInsertionTarget.appendChild(tipG)\n\t\t})\n\t}\n\n\t/**\n\t * Currently update and create are the same function.\n\t * Use this to update only styles. Useful when only file, stroke or gradient is changed\n\t */\n\tupdateStyles() {\n\t\tlet defs = this.svgElement.querySelector(\"defs\")\n\t\tdefs.innerHTML = \"\"\n\n\t\t//@ts-ignore this is intended. Container is already an svg element, its style is in the svg NS\n\t\tlet styleTag = /** @type {SVGStyleElement} */ (this.svgElement.querySelector(\"style\"))\n\t\tstyleTag.innerHTML = \"\"\n\n\t\tconst highlightString = \".vectorBloomHighlight {\" +\n\t\t\t\"fill: blue;\" +\n\t\t\t\"opacity: 0.5;\" +\n\t\t\t\"stroke: blue;\" +\n\t\t\t\"stroke-width: 5;\" +\n\t\t\t\"}\"\n\t\tstyleTag.appendChild(document.createTextNode(highlightString))\n\n\t\tconst _this = this\n\t\t/**\n\t\t * @param {string} id \n\t\t * @param {ShadowConfig} config \n\t\t * @param {SVGElement} target \n\t\t * @param {boolean} [filterOnElements]\n\t\t */\n\t\tfunction createAndApplyFilter(id, config, target, filterOnElements) {\n\t\t\tif (config.blur == 0) {\n\t\t\t\ttarget.removeAttribute(\"filter\")\n\t\t\t\tif (target.children[0] && target.children[0].hasAttribute(\"filter\"))\n\t\t\t\t\tfor (let i = 0; i < target.children.length; i++)\n\t\t\t\t\t\ttarget.children[i].removeAttribute(\"filter\")\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst filter = createShadowFilter(id, config)\n\t\t\tif (filterOnElements)\n\t\t\t\tfor (let i = 0; i < target.children.length; i++)\n\t\t\t\t\ttarget.children[i].setAttribute(\"filter\", `url(#${id})`)\n\t\t\telse\n\t\t\t\ttarget.setAttribute(\"filter\", `url(#${filter.id})`)\n\t\t\tdefs.appendChild(filter)\n\t\t}\n\n\t\t/**\n\t\t * @param {string} prefix \n\t\t * @param {number} id \n\t\t * @param {GradientStop[]} config \n\t\t * @param {number} configIndex\n\t\t */\n\t\tfunction createAndApplyRGradient(prefix, id, config, configIndex) {\n\t\t\tconst gradient = createRadialGradient(`${prefix}Gradient-${id}`, config)\n\n\t\t\tlet radius\n\t\t\tif (prefix == `petal${_this.id}-`) {\n\t\t\t\tradius = _this.config.center.radius + _this.config.petals[configIndex].geometry.length\n\t\t\t} else\n\t\t\t\tradius = _this.config.center.arrangement[configIndex].geometry.range[1] * _this.config.center.radius\n\n\t\t\t/**\n\t\t\t * why 1.5?\n\t\t\t * This produces a more natural color spread between stops\n\t\t\t */\n\t\t\tgradient.setAttribute(\"r\", radius * 1.5 + \"\")\n\t\t\tdefs.appendChild(gradient)\n\t\t}\n\n\t\tthis.config.petals.forEach((petalConfig, index) => {\n\t\t\tconst inverseIndex = (this.config.petals.length - (index + 1))\n\t\t\tcreateAndApplyRGradient(`petal${this.id}-`, inverseIndex, petalConfig.fill.color, index)\n\t\t\tcreateAndApplyFilter(`petalShadow${this.id}-${inverseIndex}`, petalConfig.fill.shadow,\n\t\t\t\tthis.svgElement.querySelector(`#petalGroup${this.id}-${inverseIndex}`))\n\n\t\t\tconst styleString = `.petalStyles${this.id}-${inverseIndex} {` +\n\t\t\t\t`stroke: ${petalConfig.fill.strokeColor};` +\n\t\t\t\t`stroke-width: ${petalConfig.fill.strokeWidth};` +\n\t\t\t\t\"}\"\n\t\t\tstyleTag.appendChild(document.createTextNode(styleString))\n\t\t})\n\n\t\tthis.config.center.arrangement.forEach((arrangement, index) => {\n\t\t\tconst inverseIndex = this.config.center.arrangement.length - (index + 1)\n\t\t\tcreateAndApplyRGradient(`centerBase${this.id}-`, inverseIndex, arrangement.fill.base.color, index)\n\t\t\tcreateAndApplyRGradient(`centerTip${this.id}-`, inverseIndex, arrangement.fill.tip.color, index)\n\t\t\tcreateAndApplyFilter(`centerBaseShadow${this.id}-${inverseIndex}`, arrangement.fill.base.shadow,\n\t\t\t\tthis.svgElement.querySelector(`#centerBaseGroup${this.id}-${inverseIndex}`), true)\n\t\t\tcreateAndApplyFilter(`centerTipShadow${this.id}-${inverseIndex}`, arrangement.fill.tip.shadow,\n\t\t\t\tthis.svgElement.querySelector(`#centerTipGroup${this.id}-${inverseIndex}`))\n\t\t\tconst styleString = `.centerBaseStyles${this.id}-${inverseIndex} {` +\n\t\t\t\t`stroke: ${arrangement.fill.base.strokeColor};` +\n\t\t\t\t`stroke-width: ${arrangement.fill.base.strokeWidth};` +\n\t\t\t\t\"}\"\n\t\t\tstyleTag.appendChild(document.createTextNode(styleString))\n\t\t\tconst styleString2 = `.centerTipStyles${this.id}-${inverseIndex} {` +\n\t\t\t\t`stroke: ${arrangement.fill.tip.strokeColor};` +\n\t\t\t\t`stroke-width: ${arrangement.fill.tip.strokeWidth};` +\n\t\t\t\t\"}\"\n\t\t\tstyleTag.appendChild(document.createTextNode(styleString2))\n\t\t})\n\t}\n\n\t/**\n\t * Updates geometry and styles.\n\t */\n\tupdate() {\n\t\tthis.updateGeometry()\n\t\tthis.updateStyles()\n\t}\n\n\t/**\n\t * By default the flower is drawn in the center of the passed canvas.\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [x] - left position in pixels\n\t * @param {number} [y] - top position in pixels\n\t * @param {number} [w] - width in pixels\n\t * @param {number} [h] - height in pixels\n\t */\n\trenderOnCanvas(canvas, x, y, w, h) {\n\t\tif (canvas && canvas.tagName == \"CANVAS\") {\n\t\t\t/**\n\t\t\t * @param {number} width\n\t\t\t * @param {number} height\n\t\t\t */\n\t\t\tfunction updateParams(width, height) {\n\t\t\t\tif (typeof w != \"number\")\n\t\t\t\t\tw = Math.min(width, height)\n\t\t\t\tif (typeof h != \"number\")\n\t\t\t\t\th = w\n\t\t\t\tif (typeof x != \"number\")\n\t\t\t\t\tx = (width - w) / 2\n\t\t\t\tif (typeof y != \"number\")\n\t\t\t\t\ty = (height - h) / 2\n\t\t\t}\n\n\t\t\tconst image = new Image()\n\t\t\timage.classList.add(\"svgPreview\")\n\t\t\timage.onload = function() {\n\t\t\t\tconst ctx = canvas.getContext(\"2d\")\n\t\t\t\tupdateParams(canvas.width, canvas.height)\n\t\t\t\tctx.drawImage(image, x, y, w, h)\n\t\t\t}\n\t\t\timage.src = this.export(\"imageURL\")\n\t\t}\n\t}\n\n\t/**\n\t * @param {\"svgString\"|\"svgFileString\"|\"imageURL\"|\"jsonString\"} exportType \n\t * @returns {string}\n\t */\n\texport (exportType) {\n\t\tconst xml = new XMLSerializer().serializeToString(this.svgElement)\n\t\tswitch (exportType) {\n\t\t\tcase \"svgString\":\n\t\t\t\treturn xml\n\t\t\t\tbreak\n\t\t\tcase \"svgFileString\": {\n\t\t\t\treturn `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\r\\n${xml}`\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase \"imageURL\":\n\t\t\t\treturn \"data:image/svg+xml; charset=utf8, \" + encodeURIComponent(xml)\n\t\t\t\tbreak\n\t\t\tcase \"jsonString\":\n\t\t\t\treturn JSON.stringify(this.config, null, 2)\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\t/**\n\t * This is useful sometimes to update the bounds of the svg to correctly contain\n\t * the flower in the container.\n\t */\n\tupdateDrawingSize() {\n\t\tconst _this = this\n\t\tthis.maxWidth = -Infinity\n\n\t\t/**\n\t\t * @param {VectorBloomPath[]} component \n\t\t */\n\t\tfunction loopNodes(component) {\n\t\t\tcomponent.forEach(base => {\n\t\t\t\tbase.nodes.forEach(node => {\n\t\t\t\t\tconst magnitude = node.position.magnitude()\n\t\t\t\t\tif (magnitude > _this.maxWidth) {\n\t\t\t\t\t\t_this.maxWidth = magnitude\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\tif (!this.petals.length)\n\t\t\tthis.center.forEach(arrangmenet => loopNodes(arrangmenet.bases))\n\t\telse {\n\t\t\tthis.petals.forEach(petals => loopNodes(petals))\n\t\t}\n\t\tthis.maxWidth *= 2\n\n\t\tthis.svgElement.setAttribute(\"pageWidth\", `${this.maxWidth}`)\n\t\tthis.svgElement.setAttribute(\"pageHeight\", `${this.maxWidth}`)\n\t\tthis.svgElement.setAttribute(\"width\", `${this.maxWidth}px`)\n\t\tthis.svgElement.setAttribute(\"height\", `${this.maxWidth}px`)\n\t\tthis.svgElement.setAttribute(\"viewBox\", `0 0 ${this.maxWidth} ${this.maxWidth}`)\n\n\t\tconst containerGroup = this.svgElement.getElementsByTagName(\"g\")[0]\n\t\tcontainerGroup.setAttribute(\"transform\", `translate(${this.maxWidth/2}, ${this.maxWidth/2})`)\n\t}\n\n\t/**\n\t * @param { BloomConfig } config\n\t */\n\tstatic FillDefaults(config) {\n\t\tif (!config.petals)\n\t\t\tconfig.petals = []\n\t\tif (!config.center)\n\t\t\tconfig.center = {\n\t\t\t\tradius: 50,\n\t\t\t\tarrangement: []\n\t\t\t}\n\t\tconfig.petals.forEach(fillPetalDefaults)\n\t\tconfig.center.arrangement.forEach(fillCenterDefaults)\n\t}\n}\n\n/**\n * @param {number} angle \n * @returns {number}\n */\nfunction ToRadian(angle) {\n\treturn angle * Math.PI / 180\n}\n\n/**\n * @param {any} value \n * @returns {boolean}\n */\nfunction isNull(value) {\n\treturn value === undefined || value === null\n}\n\n\n/**\n * @param {VectorBloomNode} node \n * @param {VectorBloomNode} originNode \n * @param {number} value \n */\nfunction ApplySmoothing(node, originNode, value) {\n\tconst workerPoint1 = new VectorBloomPoint(0, 0)\n\tconst workerPoint2 = new VectorBloomPoint(0, 0)\n\tworkerPoint1.set(node.position).subtract(originNode.position).normalize()\n\tworkerPoint2.set(node.curveTo.position).subtract(node.position).normalize()\n\tworkerPoint1.add(workerPoint2).normalize()\n\tworkerPoint2.set(workerPoint1).scale(value * node.curveTo.position.distanceFrom(node.position))\n\tnode.controlPoint2.set(node.position).add(workerPoint2)\n\tworkerPoint2.set(workerPoint1).scale(-value * node.position.distanceFrom(originNode.position))\n\tnode.controlPoint1.set(node.position).add(workerPoint2)\n}\n\n/**\n * @param {PetalConfig} config \n */\nfunction fillPetalDefaults(config) {\n\tconst geometry = config.geometry\n\n\tif (!geometry.width || !geometry.count || !geometry.length)\n\t\tconsole.log(\"crucial config missing or invalid config.\")\n\telse {\n\t\tif (isNull(geometry.outerWidth))\n\t\t\tgeometry.outerWidth = geometry.width\n\t\tif (isNull(geometry.angleOffset))\n\t\t\tgeometry.angleOffset = 0\n\t\tif (isNull(geometry.radialOffset))\n\t\t\tgeometry.radialOffset = 0\n\t\tif (isNull(geometry.balance))\n\t\t\tgeometry.balance = 0.5\n\t\tif (isNull(geometry.smoothing))\n\t\t\tgeometry.smoothing = 0\n\t\tif (isNull(geometry.innerWidth))\n\t\t\tgeometry.innerWidth = geometry.width\n\t\tif (isNull(geometry.offsetX))\n\t\t\tgeometry.offsetX = 0\n\t\tif (isNull(geometry.offsetY))\n\t\t\tgeometry.offsetY = 0\n\t}\n\n\tfillFillDefaults(config.fill)\n}\n\n/**\n * @param {FillStyle} fill\n */\nfunction fillFillDefaults(fill) {\n\tfill.color.forEach(stop => {\n\t\tif (isNull(stop.offset))\n\t\t\tstop.offset = 0.5\n\t})\n\tif (isNull(fill.strokeColor))\n\t\tfill.strokeColor = \"#000000\"\n\tif (isNull(fill.strokeWidth))\n\t\tfill.strokeWidth = 0\n\n\tif (!fill.shadow) {\n\t\tfill.shadow = {\n\t\t\tblur: 0,\n\t\t\toffsetX: 0,\n\t\t\toffsetY: 0,\n\t\t\tcolor: \"#000\",\n\t\t\topacity: 1\n\t\t}\n\t}\n}\n\n/**\n * \n * @param {CenterArrangment} config \n */\nfunction fillCenterDefaults(config) {\n\tfillFillDefaults(config.fill.base)\n\tfillFillDefaults(config.fill.tip)\n}\n\n/**\n * Makes a unit vector and returns\n * one perpendicular vector to it\n * @param {VectorBloomPoint} point \n */\nfunction makePerpendicular(point) {\n\tpoint.normalize()\n\tconst x = point.x\n\tconst y = point.y\n\tpoint.x = -y\n\tpoint.y = x\n}\n\n/**\n * @typedef CenterArrangement\n * @property {VectorBloomPath[]} bases\n * @property {VectorBloomPath[]} tips\n */\n\n/**\n * @param {CenterGeometry} arrangement \n * @param {number} radius \n * @returns {CenterArrangement}\n */\nfunction createCenter(arrangement, radius) {\n\tlet n = 0\n\tlet currentRadius = (arrangement.range[0] || 0) * radius\n\tconst minRadius = currentRadius\n\tconst maxRadius = (arrangement.range[1] || 1) * radius\n\tconst radiusRange = maxRadius - currentRadius\n\tconst ageRange = arrangement.age[1] - arrangement.age[0]\n\tconst sizeRange = arrangement.size[1] - arrangement.size[0]\n\n\t/**@type {CenterArrangement} */\n\tconst centerArrangement = {\n\t\tbases: [],\n\t\ttips: []\n\t}\n\tlet angle = 0\n\tif (currentRadius != 0)\n\t\tn = Math.pow(currentRadius / arrangement.density, 2)\n\tdo {\n\t\tangle = n * GOLDEN_RADIANS\n\t\tcurrentRadius = arrangement.density * Math.sqrt(n)\n\t\tconst currentRadiusRatio = (currentRadius - minRadius) / radiusRange\n\t\tconst currentAge = (currentRadiusRatio * ageRange) + arrangement.age[0]\n\t\tconst currentSize = (currentRadiusRatio * sizeRange) + arrangement.size[0]\n\t\tconst { base, tip } = createCenterShape(currentRadius, currentAge, currentSize, angle)\n\t\tif (base)\n\t\t\tcenterArrangement.bases.push(base)\n\t\tif (tip)\n\t\t\tcenterArrangement.tips.push(tip)\n\t\tn++\n\t} while (currentRadius < maxRadius)\n\treturn centerArrangement\n}\n\n/**\n * \n * @param {number} r \n * @param {number} age\n * @param {number} size\n * @param {number} angle \n * @returns {{base: VectorBloomPath, tip: VectorBloomPath}}\n */\nfunction createCenterShape(r, age, size, angle) {\n\tconst workerPoint1 = new VectorBloomPoint(0, 0)\n\tconst workerPoint2 = new VectorBloomPoint(0, 0)\n\tconst workerPoint3 = new VectorBloomPoint(0, 0)\n\tconst workerPoint4 = new VectorBloomPoint(0, 0)\n\tworkerPoint1.set(r * Math.sin(angle), r * Math.cos(angle))\n\n\tconst baseNodes = /** @type {VectorBloomNode[]} */ ([])\n\tconst tipNodes = /** @type {VectorBloomNode[]} */ ([])\n\n\tif (age < 0.5) {\n\t\t/**\n\t\t * this shape is a quadrilateral with points in clockwise order start from South\n\t\t * The south one points towards the center\n\t\t */\n\t\tlet offset = angle + Math.PI\n\t\tconst smoothingFactor = (age < 0.1 ? 0 : size * age)\n\t\tlet floretLength = Math.min(size * 6, (0.5 / age) * size)\n\t\tif (floretLength > r)\n\t\t\tfloretLength = r\n\t\tbaseNodes.push(getRadialNode(offset, floretLength, workerPoint1, 0))\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\toffset += Math.PI / 2\n\t\t\tbaseNodes.push(getRadialNode(offset, size, workerPoint1, smoothingFactor))\n\t\t}\n\t} else {\n\t\t//create base shape\n\t\tconst fullCirle = Math.PI * 2\n\t\tlet currentAngle = angle\n\t\tconst step = fullCirle / 10\n\t\tlet maxR = size\n\t\tlet minR = size\n\t\tconst deviation = size * (age - 0.5)\n\t\tminR -= deviation\n\t\tconst smoothing = Math.PI * minR / 15\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tbaseNodes.push(getRadialNode(currentAngle, ((i % 2 == 0) ? maxR : minR), workerPoint1, smoothing))\n\t\t\tcurrentAngle += step\n\t\t}\n\n\t\tif (age > 0.7) {\n\t\t\t/**\n\t\t\t * create the tip shape. Its basically a stem with a spherical top\n\t\t\t * start with the stem part. can be made with 7 nodes\n\t\t\t * \t\t\t 5\n\t\t\t * \t\t\t/ \\  \t\n\t\t\t * \t\t   6\\  |4\n\t\t\t * \t\t   7/ /3\n\t\t\t *\t\t   / /\n\t\t\t *        / /\n\t\t\t *\t\t1\t2 \n\t\t\t */\n\t\t\tconst hs = size * age / 4\n\t\t\tconst circleR = size / 2\n\t\t\ttipNodes.push(getRadialNode(angle - Math.PI / 2, hs, workerPoint1))\n\t\t\ttipNodes.push(getRadialNode(angle + Math.PI / 2, hs, workerPoint1))\n\t\t\tworkerPoint4.set(workerPoint1).normalize()\n\t\t\tworkerPoint2.set(workerPoint4).scale(circleR * (age - 0.7) * 8).add(workerPoint1)\n\t\t\ttipNodes.push(getRadialNode(angle + Math.PI / 2, hs, workerPoint2))\n\n\t\t\t//sweep a cicle. the following point is the center\n\t\t\tworkerPoint3.set(workerPoint4).scale(circleR).add(workerPoint2)\n\t\t\tlet offset = angle + Math.PI / 2\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\ttipNodes.push(getRadialNode(offset, circleR, workerPoint3, -circleR * 0.66))\n\t\t\t\toffset -= Math.PI / 2\n\t\t\t}\n\t\t\ttipNodes.push(getRadialNode(angle - Math.PI / 2, hs, workerPoint2))\n\t\t}\n\t}\n\n\treturn {\n\t\tbase: (baseNodes.length ? new VectorBloomPath(baseNodes) : null),\n\t\ttip: (tipNodes.length ? new VectorBloomPath(tipNodes) : null)\n\t}\n}\n\n/**\n * @param {PetalConfig} petalConfig\n * @param {number} centerRadius\n * @returns  {VectorBloomPath[]}\n */\nfunction createPetals(petalConfig, centerRadius) {\n\tconst petalGeometry = petalConfig.geometry\n\t//start from 0 degrees 12oclock.\n\tlet offset = ToRadian(petalGeometry.angleOffset || 0)\n\tconst step = Math.PI * 2 / petalGeometry.count\n\tconst petals = []\n\tcenterRadius += (petalConfig.geometry.radialOffset || 0) * centerRadius\n\tfor (let i = 0; i < petalGeometry.count; i++) {\n\t\tconst petal = createPetal(petalGeometry, centerRadius, offset)\n\t\tpetals.push(petal)\n\t\toffset += step\n\t}\n\treturn petals\n}\n\n/**\n * A petal is defined by 8 points.\n * @param {PetalGeometry} petalGeometry \n * @param {number} centerRadius \n * @param {number} offset \n * @returns {VectorBloomPath}\n */\nfunction createPetal(petalGeometry, centerRadius, offset) {\n\tconst innerWidthHalf = ToRadian(petalGeometry.innerWidth / 2)\n\tconst outerWidthHalf = ToRadian(petalGeometry.outerWidth / 2)\n\tconst widthHalf = ToRadian(petalGeometry.width / 2)\n\n\tlet extension = 0\n\tif (petalGeometry.extendOutside)\n\t\textension = (centerRadius + petalGeometry.length) * outerWidthHalf\n\n\tconst centerOffset = new VectorBloomPoint(petalGeometry.offsetX || 0, petalGeometry.offsetY || 0)\n\n\n\tconst petalNodes = /** @type {VectorBloomNode[]}*/ ([])\n\tpetalNodes.push(\n\t\tgetRadialNode(offset - innerWidthHalf, centerRadius, centerOffset),\n\t\tgetRadialNode(offset, centerRadius - 10, centerOffset),\n\t\tgetRadialNode(offset + innerWidthHalf, centerRadius, centerOffset),\n\t\tgetRadialNode(offset + widthHalf, centerRadius + (petalGeometry.length * petalGeometry.balance), centerOffset),\n\t\tgetRadialNode(offset + outerWidthHalf, centerRadius + petalGeometry.length, centerOffset),\n\t\tgetRadialNode(offset, centerRadius + petalGeometry.length + extension, centerOffset),\n\t\tgetRadialNode(offset - outerWidthHalf, centerRadius + petalGeometry.length, centerOffset),\n\t\tgetRadialNode(offset - widthHalf, centerRadius + (petalGeometry.length * petalGeometry.balance), centerOffset)\n\t)\n\tconst petal = new VectorBloomPath(petalNodes)\n\tif (petalGeometry.smoothing) {\n\t\tpetal.nodes.forEach((node, index) => {\n\t\t\tconst fromNode = index === 0 ? petal.nodes[petal.nodes.length - 1] :\n\t\t\t\tpetal.nodes[index - 1]\n\t\t\tApplySmoothing(node, fromNode, petalGeometry.smoothing)\n\t\t})\n\t\tpetal.compilePathData()\n\t}\n\n\treturn petal\n}\n\n/**\n * @param {number} angle \n * @param {number} distance \n * @param {VectorBloomPoint} [position] \n * @param {number} [smoothing]\n * @returns {VectorBloomNode}\n */\nfunction getRadialNode(angle, distance, position, smoothing) {\n\tlet x = Math.sin(angle) * distance\n\tlet y = Math.cos(angle) * distance\n\tif (position) {\n\t\tx += position.x\n\t\ty += position.y\n\t}\n\tconst createdNode = new VectorBloomNode(x, y)\n\tif (smoothing) {\n\t\tconst workerPoint1 = new VectorBloomPoint()\n\t\tworkerPoint1.set(createdNode.position).subtract(position)\n\t\tmakePerpendicular(workerPoint1)\n\t\tcreatedNode.controlPoint1.set(workerPoint1.scale(smoothing)).add(createdNode.position)\n\t\tcreatedNode.controlPoint2.set(workerPoint1.scale(-1).add(createdNode.position))\n\t}\n\n\treturn createdNode\n}\n\n/**\n * \n * @param {string} id \n * @param {GradientStop[]} stops \n * @returns {SVGRadialGradientElement}\n */\nfunction createRadialGradient(id, stops) {\n\tconst radialGradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\")\n\tradialGradient.id = id\n\tradialGradient.setAttribute(\"cx\", \"0\")\n\tradialGradient.setAttribute(\"cy\", \"0\")\n\tradialGradient.setAttribute(\"fx\", \"0\")\n\tradialGradient.setAttribute(\"fy\", \"0\")\n\tradialGradient.setAttribute(\"r\", \"50%\")\n\tstops.forEach(stopObj => {\n\t\tconst stop = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\")\n\t\tstop.setAttribute(\"style\", `stop-color:${stopObj.color}`)\n\t\tstop.setAttribute(\"offset\", ((stopObj.offset == null) ? \"50%\" : (stopObj.offset * 100) + \"%\"))\n\t\tradialGradient.appendChild(stop)\n\t})\n\tradialGradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\")\n\tradialGradient.classList.add(\"vectorBloomTypes\")\n\treturn radialGradient\n}\n\n/**\n * @param {string} id \n * @param {ShadowConfig} shadowConfig \n * @returns {SVGFilterElement}\n */\nfunction createShadowFilter(id, shadowConfig) {\n\tconst filter = document.createElementNS(\"http://www.w3.org/2000/svg\", \"filter\")\n\tfilter.setAttribute(\"x\", \"-150%\")\n\tfilter.setAttribute(\"y\", \"-150%\")\n\tfilter.setAttribute(\"width\", \"300%\")\n\tfilter.setAttribute(\"height\", \"300%\")\n\tfilter.id = id\n\n\t/**\n\t * FeDropShadow is a short hand notation for a composite of filter. \n\t * It may not be supported by all renderers. Alteast Inkscape doesn't \n\t * support it. May be its not spec?\n\t */\n\t/* const feShadowElem = document.createElementNS(\"http://www.w3.org/2000/svg\", \"feDropShadow\")\n\tfeShadowElem.setAttribute(\"dx\", shadowConfig.offsetX + \"\")\n\tfeShadowElem.setAttribute(\"dy\", shadowConfig.offsetY + \"\")\n\tfeShadowElem.setAttribute(\"stdDeviation\", shadowConfig.blur + \"\")\n\tfeShadowElem.setAttribute(\"flood-color\", shadowConfig.color)\n\tfeShadowElem.setAttribute(\"flood-opacity\", shadowConfig.opacity + \"\") */\n\n\t//feFlood\n\tconst feFlood = document.createElementNS(\"http://www.w3.org/2000/svg\", \"feFlood\")\n\tfeFlood.setAttribute(\"flood-opacity\", shadowConfig.opacity + \"\")\n\tfeFlood.setAttribute(\"flood-color\", shadowConfig.color)\n\tfeFlood.setAttribute(\"result\", \"flood\")\n\n\t//feOffset\n\tconst feOffset = document.createElementNS(\"http://www.w3.org/2000/svg\", \"feOffset\")\n\tfeOffset.setAttribute(\"dx\", (shadowConfig.offsetX || 0) + \"\")\n\tfeOffset.setAttribute(\"dy\", (shadowConfig.offsetY || 0) + \"\")\n\tfeOffset.setAttribute(\"result\", \"offset\")\n\n\t//feGaussianBlur\n\tconst feGB = document.createElementNS(\"http://www.w3.org/2000/svg\", \"feGaussianBlur\")\n\tfeGB.setAttribute(\"stdDeviation\", (shadowConfig.blur || 0) + \"\")\n\tfeGB.setAttribute(\"in\", \"composite1\")\n\tfeGB.setAttribute(\"result\", \"blur\")\n\n\t//composites\n\tconst feComposite1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"feComposite\")\n\tfeComposite1.setAttribute(\"in\", \"flood\")\n\tfeComposite1.setAttribute(\"in2\", \"SourceGraphic\")\n\tfeComposite1.setAttribute(\"operator\", \"in\")\n\tfeComposite1.setAttribute(\"result\", \"composite1\")\n\n\tconst feComposite2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"feComposite\")\n\tfeComposite2.setAttribute(\"in\", \"SourceGraphic\")\n\tfeComposite2.setAttribute(\"in2\", \"offset\")\n\tfeComposite2.setAttribute(\"operator\", \"over\")\n\tfeComposite2.setAttribute(\"result\", \"composite2\")\n\n\tfilter.appendChild(feFlood)\n\tfilter.appendChild(feComposite1)\n\tfilter.appendChild(feGB)\n\tfilter.appendChild(feOffset)\n\tfilter.appendChild(feComposite2)\n\n\tfilter.classList.add(\"vectorBloomTypes\")\n\treturn filter\n}\n\n/**\n * @returns {SVGSVGElement}\n */\nfunction createSVGElement() {\n\tconst svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")\n\tsvgElement.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\")\n\tsvgElement.setAttribute(\"class\", \"vectorBloomSVG\")\n\tsvgElement.setAttribute(\"preserveAspectRatio\", \"xMidYMid meet\")\n\tsvgElement.style.width = \"100%\"\n\tsvgElement.style.height = \"100%\"\n\n\t//ensure this is the first element\n\tconst defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\")\n\tdefs.classList.add(\"vectorBloomDefs\")\n\tsvgElement.appendChild(defs)\n\n\tconst styleTag = document.createElementNS(\"http://www.w3.org/2000/svg\", \"style\")\n\tstyleTag.type = \"text/css\"\n\tsvgElement.appendChild(styleTag)\n\n\tconst translateGroup = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")\n\tsvgElement.appendChild(translateGroup)\n\n\treturn svgElement\n}\n\n/**\n * @typedef CircleConfig\n * @property {number} radius\n * @property {string} color\n * @property {number} [x] \n * @property {number} [y] \n */\n\n/**\n * @param {CircleConfig} config\n * @returns {SVGCircleElement}\n */\nfunction createCircleElement(config) {\n\tconst circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\")\n\tcircle.setAttribute(\"cx\", (isNull(config.x) ? 0 : config.x) + \"\")\n\tcircle.setAttribute(\"cy\", (isNull(config.y) ? 0 : config.y) + \"\")\n\tcircle.setAttribute(\"r\", config.radius + \"\")\n\tcircle.setAttribute(\"fill\", config.color)\n\treturn circle\n}","/**\n * @class VectorBloomPoint\n * Creates object that holds x and y coordinates of a two dimensional Point.\n * Provides methods for common operations with the point.\n */\n export class VectorBloomPoint {\n\t/**\n\t * @param {number} [x]\n\t * @param {number} [y]\n\t */\n\tconstructor(x = 0, y = 0) {\n\t\t/** @type {number} */\n\t\tthis.x = x\n\t\t/** @type {number} */\n\t\tthis.y = y\n\t}\n\n\t/**\n\t * @param {number|{x:number, y:number}} _x \n\t * @param {number} [_y] \n\t * @returns {VectorBloomPoint}\n\t */\n\tset(_x, _y) {\n\t\tif (typeof _x == \"number\") {\n\t\t\tthis.x = _x\n\t\t\tthis.y = _y\n\t\t} else {\n\t\t\tthis.x = _x.x\n\t\t\tthis.y = _x.y\n\t\t}\n\t\treturn this\n\t}\n\n\t/**\n\t * @returns {number}\n\t */\n\tmagnitude() {\n\t\treturn Math.sqrt((this.x * this.x) + (this.y * this.y))\n\t}\n\n\t/**\n\t * Creates a unit vector in place\n\t * @returns {VectorBloomPoint}\n\t */\n\tnormalize() {\n\t\tconst magnitude = this.magnitude()\n\t\tthis.x /= magnitude\n\t\tthis.y /= magnitude\n\t\treturn this\n\t}\n\n\t/**\n\t * @param {number} factor \n\t * @returns {VectorBloomPoint}\n\t */\n\tscale(factor) {\n\t\tthis.x *= factor\n\t\tthis.y *= factor\n\t\treturn this\n\t}\n\n\t/**\n\t * Creates a unit vector but returns shiny new Point Object\n\t * @returns {VectorBloomPoint}\n\t */\n\tunit() {\n\t\treturn new VectorBloomPoint(this.x, this.y).scale(1 / this.magnitude())\n\t}\n\n\t/**\n\t * The slope of the the unit line from origin to point in radians\n\t * @returns {number}\n\t */\n\tangle() {\n\t\tlet angle = Math.atan2(this.y, this.x)\n\t\tif (angle < 0) {\n\t\t\tangle += 2 * Math.PI\n\t\t}\n\t\treturn angle\n\t}\n\n\t/**\n\t * @param {number|VectorBloomPoint} _point \n\t * @param {number} [y] \n\t * @returns {number}\n\t */\n\tdistanceFrom(_point, y) {\n\t\treturn Math.sqrt(this.squaredDistanceFrom(_point, y))\n\t}\n\n\t/**\n\t * @param {number|{x:number, y:number}} _point \n\t * @param {number} [y] \n\t * @returns {number}\n\t */\n\tsquaredDistanceFrom(_point, y) {\n\t\tlet xd, yd\n\t\tif (typeof _point == \"number\") {\n\t\t\txd = _point - this.x\n\t\t\tyd = y - this.y\n\t\t} else {\n\t\t\txd = _point.x - this.x\n\t\t\tyd = _point.y - this.y\n\t\t}\n\n\t\treturn (xd * xd) + (yd * yd)\n\t}\n\n\t/**\n\t * Calculates the unit vector describing the direction to the passed\n\t * point\n\t * @param {VectorBloomPoint} point \n\t * @returns {VectorBloomPoint}\n\t */\n\tdirection(point) {\n\t\tlet distance = this.distanceFrom(point)\n\t\treturn new VectorBloomPoint((this.x - point.x), (this.y - point.y)).scale(1 / distance)\n\t}\n\n\t/**\n\t * @param {number|VectorBloomPoint} _point \n\t * @param {number} [y] \n\t * @returns {VectorBloomPoint}\n\t */\n\tadd(_point, y) {\n\t\tif (typeof _point == \"number\") {\n\t\t\tthis.x += _point\n\t\t\tthis.y += y\n\t\t} else {\n\t\t\tthis.x += _point.x\n\t\t\tthis.y += _point.y\n\t\t}\n\t\treturn this\n\t}\n\n\t/**\n\t * @param {number|VectorBloomPoint} _point \n\t * @param {number} [y] \n\t * @returns {VectorBloomPoint}\n\t */\n\tsubtract(_point, y) {\n\t\tif (typeof _point == \"number\") {\n\t\t\tthis.x -= _point\n\t\t\tthis.y -= y\n\t\t} else {\n\t\t\tthis.x -= _point.x\n\t\t\tthis.y -= _point.y\n\t\t}\n\t\treturn this\n\t}\n\n\t/**\n\t * @param {number|VectorBloomPoint} _point \n\t * @param {number} [y] \n\t * @returns {VectorBloomPoint}\n\t */\n\tmidPoint(_point, y) {\n\t\tlet xd, yd\n\t\tif (typeof _point == \"number\") {\n\t\t\txd = _point\n\t\t\tyd = y\n\t\t} else {\n\t\t\txd = _point.x\n\t\t\tyd = _point.y\n\t\t}\n\t\treturn new VectorBloomPoint(this.x + xd, this.y + yd).scale(1 / 2)\n\t}\n\n\t/**\n\t * Rotates a point about another point by angle provided\n\t * @param {VectorBloomPoint} point \n\t * @param {number} angle In radians\n\t * @returns {VectorBloomPoint}\n\t */\n\trotateAbout(point, angle) {\n\t\tconst dx = this.x - point.x\n\t\tconst dy = this.y - point.y\n\n\t\tconst cosx = Math.cos(angle)\n\t\tconst sinx = Math.sin(angle)\n\n\t\tthis.x = point.x + (dx * cosx) + (dy * sinx)\n\t\tthis.y = point.y + (dy * cosx) - (dx * sinx)\n\t\t// invert y axis in dom\n\n\t\treturn this\n\t}\n\n\t/**\n\t * @param {VectorBloomPoint} point \n\t * @returns {boolean}\n\t */\n\tisSame(point) {\n\t\tif (this.x == point.x && this.y == point.y) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\t/**\n\t * @param {VectorBloomPoint[]} points\n\t * @returns {VectorBloomPoint}\n\t */\n\tstatic ComputeCenter(points) {\n\t\tlet x = 0,\n\t\t\ty = 0\n\t\tpoints.forEach(function(element) {\n\t\t\tx += element.x\n\t\t\ty += element.y\n\t\t})\n\t\treturn new VectorBloomPoint(x, y).scale(1 / points.length)\n\t}\n}","import { VectorBloomPoint } from \"./vector-bloom-point.js\"\n\nexport class VectorBloomNode {\n\t/**\n\t * \n\t * @param {number} x \n\t * @param {number} y \n\t */\n\tconstructor(x, y) {\n\t\tthis.position = new VectorBloomPoint(x, y)\n\t\tthis.curveTo = /** @type {VectorBloomNode} */ (null)\n\t\tthis.controlPoint1 = new VectorBloomPoint(x, y)\n\t\tthis.controlPoint2 = new VectorBloomPoint(x, y)\n\t}\n}\n\nexport class VectorBloomPath {\n\t/**\n\t * @param {VectorBloomNode[]} nodes \n\t */\n\tconstructor(nodes) {\n\t\tthis.nodes = nodes\n\t\tthis.element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\")\n\t\tthis.nodes.forEach((node, index) => node.curveTo = this.nodes[index + 1])\n\t\tthis.nodes[this.nodes.length - 1].curveTo = this.nodes[0]\n\t\tthis.pathData = this.compilePathData()\n\t}\n\n\tcompilePathData() {\n\t\t/**\n\t\t * @param {VectorBloomNode} node \n\t\t */\n\t\tfunction writeData(node) {\n\t\t\tpathString += `${node.controlPoint2.x} ${node.controlPoint2.y} `\n\t\t\tpathString += `${node.curveTo.controlPoint1.x} ${node.curveTo.controlPoint1.y} `\n\t\t\tpathString += `${node.curveTo.position.x} ${node.curveTo.position.y} `\n\t\t}\n\n\t\tlet pathString = `M ${this.nodes[0].position.x} ${this.nodes[0].position.y} C `\n\t\tconst target = this.nodes.length - 1\n\t\tfor (let i = 0; i < target; i++) {\n\t\t\tconst node = this.nodes[i]\n\t\t\twriteData(node)\n\t\t}\n\t\twriteData(this.nodes[target])\n\t\tpathString += \"Z \"\n\t\tthis.element.setAttribute(\"d\", pathString)\n\t}\n}"],"names":[],"version":3,"file":"vector-bloom.js.map"}